@startuml
skinparam defaultFontName 微软雅黑
title 类图

class "用户" {
  +用户ID: 字符串
  +姓名: 字符串
  --
  +获取跑步记录()
  +提交申诉()  // 修改1: 提交申诉方法统一定义在父类“用户”，子类不再重复定义
}

class "学生" {
  +学号: int
  +年级: int
  --
  // 去除重复定义的提交申诉()方法，使用继承自“用户”的方法
}

class "管理员" {
  +ID: 字符串
  --
  +审核申诉()
}

class "跑步记录" {
  +ID: int
  +开始时间: 时间日期
  +结束时间: 时间日期
  --
  +计算距离(): double  // 修改2: 作为操作写在操作区，明确返回类型
}

class "GPS数据" {
  +位置ID: 字符串
  +维度: double
  +经度: double
  +时间: 时间日期
}

class "健康报告" {
  +报告ID: 字符串
  --
  +生成报告()
}

class "规则管理器" {
  +规则ID: 字符串
  +状态: 字符串
  --
  +提交证据()
}

class "申诉" {
  +申诉ID: 字符串
  +申诉状态: 字符串
  --
  +提交证据()
}

"学生" <|-- "用户"
"管理员" <|-- "用户"

// 修改3: 跑步记录与GPS数据关联修改为空心菱形聚合关系，且补充多重性
"跑步记录" o-- "GPS数据" : 包含\n1..* 

"用户" --> "跑步记录"
// 修改4: 新增规则管理器与申诉之间关联关系，表示二者交互，使用关联关系
"规则管理器" --> "申诉" : 管理/提交证据

// 保持跑步记录和健康报告的依赖关系
"跑步记录" ..> "健康报告"

@enduml