@startuml
skinparam defaultFontName 微软雅黑
title 类图

class "用户" {
  用户名: string
  用户ID: string    // 修改：替代原“学号/工号”，更通用且支持字符串
  --
  登录(): void
  退出(): void
}

class "学生" {
  运动数据: string
  健康报告: string
  --
  查看健康报告(): void
  分享运动成果(): void
  同步运动数据(): void
  每日运动打卡(): void
}

class "管理员" {
  权限: string
  工号: string  // 新增管理员工号，区分学生与管理员标识
  --
  设置运动规则(): void
  审核异常打卡(): void
}

class "定时器" {
  跑步任务提醒(): void
}

class "GPS定位系统" {
  启动GPS定位(): void
  记录运动轨迹(): void
}

class "运动记录" {
  运动时间: time
  打卡次数: int
  --
  更新数据(): void
}

class "异常打卡" {
  异常原因: string
  打卡时间: time
  --
  标记异常(): void
  处理异常(): void
}

"学生" <|-- "用户" : 继承
"管理员" <|-- "用户" : 继承

"学生" ..> "定时器"
// 修改：将“学生”与“GPS定位系统”的组合关系改为简单关联
"学生" --> "GPS定位系统" : 关联

// 修改：将学生与运动记录的聚合改为关联，且多重性说明学生可关联多个运动记录
"学生" "1" --> "0..n" "运动记录" : 关联

// 修改：将管理员与运动记录的聚合改为关联，体现管理权限
"管理员" "1" --> "0..n" "运动记录" : 关联

// 修改：删除异常打卡对GPS定位系统的依赖关系，不再存在此连接

"运动记录" --> "异常打卡"

@enduml